@using WebViecLammoi.Models
@using WebViecLammoi.i18n

@model DoanhNghiep_TuyenDung
@{
    Layout = "~/Views/Shared/_MainLayout.cshtml";
}
<link href="https://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.8/summernote.css" rel="stylesheet">
<script src="~/Content/js/summernote-vi-VN.js"></script>
<script src="~/Content/js/summernote.min.js"></script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
<link href="~/Content/css/Info_Style.css" rel="stylesheet" />
<style>
    .panel-heading {
        display: none;
    }
    .container {
        padding-right: 22px;
        padding-left: 0px;
        margin-right: auto;
        margin-left: auto;
    }
    @@media only screen and (max-width: 700px) {
        .leftcontact {
            width: 100%;
            /*float: left;*/
            border-right: none;
            box-sizing: border-box;
            padding: 0px 15px 0px 0px;
        }

        .rightcontact {
            width: 100%;
            /*float: right;*/
            box-sizing: border-box;
            padding: 0;
        }

        .container {
            padding-right: 0px;
            padding-left: 0px;
        }
    }
</style>

<section style="background-image: url(/Content/img/map.png); background-attachment: fixed !important; background-size: cover !important; background-position: 50% 0 !important; ">
    <div class="container">
        <div class="row">
            <div class="container text-center">
                <h3 style="font-family: monospace; font-weight: lighter; color: #0094ff">@Common.ProfileInfo</h3>
            </div>
        </div>
    </div>
</section>
<section>
    <div class="container">
        <form class="info_form" method="post">
            @using (Html.BeginForm("EditJobDoc", "Account", FormMethod.Post, new { enctype = "multipart/form-data" }))
            {
                var Tieude = Model.TieuDeTuyenDung;
                var YeuCauCongViec = Model.YeuCauCongViec;
                <h1 class="info_header">Hồ sơ của bạn sẻ tồn tại tối đa 3 tháng - Kiểm tra kỷ trước khi lưu:</h1>
                <div class="row">
                    <div class="contentform">
                        <div id="sendmessage">Your message has been sent successfully. Thank you. </div>
                        <div class="leftcontact">
                            @Html.HiddenFor(m => m.TuyenDung_ID)
                            <div class="form-group">
                                <p>@Common.Title @Common.Recruitment (Hoạt động vs thuật toán tìm kiếm của web)</p>
                                <span class="icon-case"><i class="glyphicon glyphicon-file"></i></span>
                                <input value="@Tieude" style="height: 42px !important" type="text" class="form-control" name="Tieude_kh" required>
                            </div>

                            <div class="form-group">
                                <p>@Common.Title2</p>
                                <span class="icon-case"><i class="glyphicon glyphicon-briefcase"></i></span>
                                @Html.DropDownList("ChucDanh_ID", null, new { @class = "form-control", style = "width: 75%; height: 42px" })
                                <div class="validation"></div>
                            </div>

                            <div class="form-group">
                                <p>@Common.DescribeMore về công việc</p>
                                <span class="icon-case"><i class="glyphicon glyphicon-comment"></i></span>
                                @Html.TextAreaFor(kh => kh.MoTaCongViec, new { @class = "form-control", @rows = 3 })
                                <div class="validation"></div>
                                <script>
                                    $(document).ready(function () {
                                        $('#MoTaCongViec').summernote({
                                            lang: 'vi-VN',
                                            height: '150',
                                            width: '85%'
                                        });
                                    });
                                </script>
                                <div class="validation"></div>
                            </div>

                            <div class="form-group">
                                <p>@Common.Benefit</p>
                                <span class="icon-case"><i class="glyphicon glyphicon-thumbs-up"></i></span>
                                @Html.TextAreaFor(kh => kh.QuyenLoi, new { @class = "form-control", @row = 2 })
                                <div class="validation"></div>
                                <script>
                                    $(document).ready(function () {
                                        $('#QuyenLoi').summernote({
                                            lang: 'vi-VN',
                                            height: '100',
                                            width: '85%'
                                        });
                                    });
                                </script>
                            </div>

                            <div class="form-group">
                                <p>Yêu cầu thêm về công việc:</p>
                                <span class="icon-case"><i class="glyphicon glyphicon-comment"></i></span>
                                <input value="@YeuCauCongViec" type="text" name="YeuCauCongViec" id="YeuCauCongViec" placeholder="Cty có yêu cầu gì không?:" />
                                <div class="validation"></div>
                            </div>
                            <div class="form-group">
                                <p>@Common.Salary <span>(0-->0 = thỏa thuận)</span></p>
                                <div class="row">
                                    <div class="col-md-6  col-xs-12">
                                        <p>Lương từ (VND):</p>
                                        <span class="icon-case"><i class="glyphicon glyphicon-ban-circle"></i></span>
                                        @Html.TextBoxFor(kh => kh.LuongTu, new { @class = "form-control", @required = "required", style = "height: 42px", @type = "number" })

                                    </div>
                                    <div class="col-md-6  col-xs-12">
                                        <p>Đến (VND)</p>
                                        <span class="icon-case"><i class="glyphicon glyphicon-ban-circle"></i></span>
                                        @Html.TextBoxFor(kh => kh.LuongDen, new { @class = "form-control", @required = "required", style = "height: 42px", @type = "number" })
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <p>@Common.WorkingTime</p>
                                <span class="icon-case"><i class="glyphicon glyphicon-time"></i></span>
                                @Html.DropDownList("ThoiGianLamViec_ID", null, new { @class = "form-control", style = "width: 75%; height: 42px" })
                                <div class="validation"></div>
                            </div>

                            <div class="form-group">
                                <div class="col-md-6  col-xs-12">
                                    <p>Nơi làm việc Tỉnh</p>
                                    <span class="icon-case"><i class="glyphicon glyphicon-th-large"></i></span>
                                    @Html.DropDownList("NoiLamViec_TinhID", null, new { @class = "form-control", style = "width: 75%; height: 42px" })
                                    <div class="validation"></div>
                                </div>
                                <div class="col-md-6  col-xs-12">
                                    <p>Nơi làm việc Huyện</p>
                                    <span class="icon-case"><i class="glyphicon glyphicon-th-large"></i></span>
                                    @Html.DropDownList("NoiLamViec_HuyenID", null, new { @class = "form-control", style = "width: 75%; height: 42px" })
                                    <div class="validation"></div>
                                </div>
                                
                            </div>

                                <div class="form-group">
                                    <p>@Common.PlaceofReceipt</p>
                                    <span class="icon-case"><i class="glyphicon glyphicon-home"></i></span>
                                    @Html.TextBoxFor(kh => kh.NoiNopHoSo, new { @class = "form-control", style = "height: 42px", @required = "required" })
                                    <div class="validation"></div>
                                </div>
                            </div>

                        <div class="rightcontact">
                            
                            <div class="form-group">
                            <div class="row">
                                <div class="col-md-6  col-xs-12">
                                    <p>Yêu cầu @Common.Computerlevel 1</p>
                                    <span class="icon-case"><i class="glyphicon glyphicon-compressed"></i></span>
                                    @Html.DropDownList("NghiepVu1", null, new { @class = "form-control", style = "width: 75%; height: 40px" })
                                    <div class="validation"></div>
                                </div>
                                <div class="col-md-6  col-xs-12">
                                    <p>Yêu cầu @Common.Computerlevel 2</p>
                                    <span class="icon-case"><i class="glyphicon glyphicon-compressed"></i></span>
                                    @Html.DropDownList("NghiepVu11", null, new { @class = "form-control", style = "width: 75%; height: 40px" })
                                    <div class="validation"></div>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <div class="row">
                                <div class="col-md-6  col-xs-12">
                                    <p>Yêu cầu @Common.ForeignLanguage 1</p>
                                    <span class="icon-case"><i class="glyphicon glyphicon-lamp"></i></span>
                                    @Html.DropDownList("NghiepVu2", null, new { @class = "form-control", style = "width: 75%; height: 40px" })
                                    <div class="validation"></div>
                                </div>
                                <div class="col-md-6  col-xs-12">
                                    <p>Yêu cầu @Common.ForeignLanguage 2</p>
                                    <span class="icon-case"><i class="glyphicon glyphicon-lamp"></i></span>
                                    @Html.DropDownList("NghiepVu22", null, new { @class = "form-control", style = "width: 75%; height: 40px" })
                                    <div class="validation"></div>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <p>Yêu cầu khác</p>
                            <span class="icon-case"><i class="glyphicon glyphicon-flash"></i></span>
                            @Html.DropDownList("NghiepVu3", null, new { @class = "form-control", style = "width: 75%; height: 40px" })
                            <div class="validation"></div>
                        </div>

                        <div class="form-group">
                            <p>Yêu Cầu @Common.Sex</p>
                            <span class="icon-case"><i class="glyphicon glyphicon-search"></i></span>
                            <select class="form-control" name="YeuCauGioiTinh" style="max-width: 100%; height: 42px">
                                @if (Model.YeuCauGioiTinh == 1)
                                {
                                    <option value="0">Không yêu cầu</option>
                                    <option value="1" selected>Nam</option>
                                    <option value="2">Nữ</option>
                                }
                                else if (Model.YeuCauGioiTinh == 2)
                                {
                                    <option value="0">Không yêu cầu</option>
                                    <option value="1">Nam</option>
                                    <option value="2" selected>Nữ</option>
                                }
                                else
                                {
                                    <option value="0">Không yêu cầu</option>
                                    <option value="1">Nam</option>
                                    <option value="2">Nữ</option>
                                }
                            </select>
                        </div>
                        <div class="form-group">
                            <p>@Common.Technicallevel</p>
                            <span class="icon-case"><i class="glyphicon glyphicon-grain"></i></span>
                            @Html.DropDownList("YeuCauTrinhDo_ID", null, new { @class = "form-control", style = "width: 75%; height: 42px" })
                            <div class="validation"></div>
                        </div>

                        <div class="form-group">
                            <div class="row">
                                <div class="col-xs-12 col-md-6">
                                    <p>@Common.Amount</p>
                                    <span class="icon-case"><i class="glyphicon glyphicon-user"></i></span>
                                    @Html.TextBoxFor(kh => kh.SoLuongTuyen, new { @class = "form-control", style = "height: 42px", @required = "required", @type = "number" })
                                    <div class="validation"></div>
                                </div>
                                <div class="col-xs-12 col-md-6">
                                    <p> @Common.Experience</p>
                                    <span class="icon-case"><i class="glyphicon glyphicon-bullhorn"></i></span>
                                    @Html.TextBoxFor(kh => kh.SoNamKinhNghiem, new { @class = "form-control", style = "height: 42px", @required = "required", @type = "number" })
                                    <div class="validation"></div>
                                </div>
                            </div>

                        </div>
                        <div class="form-group">
                            <div class="row">
                                <div class="col-md-6  col-xs-12">
                                    <p>@Common.Age @Common.From</p>
                                    <span class="icon-case"><i class="glyphicon glyphicon-check"></i></span>
                                    @Html.TextBoxFor(kh => kh.YeuCauTuoiTu, new { @class = "form-control", style = "height: 42px", @required = "required", @type = "number" })
                                    <div class="validation"></div>
                                </div>
                                <div class="col-md-6  col-xs-12">
                                    <p>@Common.Age @Common.To</p>
                                    <span class="icon-case"><i class="glyphicon glyphicon-magnet"></i></span>
                                    @Html.TextBoxFor(kh => kh.YeuCauTuoiDen, new { @class = "form-control", style = "height: 42px", @required = "required", @type = "number" })
                                    <div class="validation"></div>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <p>@Common.StartDate</p>
                            <span class="icon-case"><i class="glyphicon glyphicon-calendar"></i></span>
                            @Html.TextBoxFor(kh => kh.NgayNhanHoSo, "{0:yyyy-MM-dd}", new { @class = "form-control", style = "width: 90%; height: 42px", @type = "date", @required = true })

                        </div>

                        <div class="form-group">
                            <div class="row">
                                <div class="col-xs-12 col-md-4">
                                    <p>@Common.EndDay</p>
                                    <span class="icon-case"><i class="glyphicon glyphicon-calendar"></i></span>
                                    @Html.TextBoxFor(kh => kh.NgayHetHan, "{0:dd/MM/yyyy}", new { @class = "form-control", @readonly = "readonly", style = "height: 42px" })
                                </div>
                                <div class="col-xs-12 col-md-4" style="padding-right:0">
                                    <p>(Chọn Lại nếu cần)<span>*</span></p>
                                    <select class="form-control" id="thoigiantontai" style="width: 100%; height: 42px">
                                        <option value="0">không đổi</option>
                                        <option value="1">1</option>
                                        <option value="2">2</option>
                                        <option value="3">3</option>
                                    </select>
                                </div>
                                <div class="col-xs-12 col-md-4" style="padding-left:0" id="HetHan">
                                    <p>@Common.EndDay</p>
                                    <span class="icon-case"><i class="glyphicon glyphicon-calendar"></i></span>
                                    <input style="background-color:lightgray" name="NgayHetHan1" id="NgayHetHan1" />
                                    <div class="validation"></div>
                                </div>
                            </div>

                        </div>

                        <div class="form-group">
                            <p>Yêu cầu ngành học</p>
                            <span class="icon-case"><i class="glyphicon glyphicon-cloud"></i></span>
                            @Html.DropDownList("YeuCauNganh_ID", null, new { @class = "form-control", style = "width: 75%; height: 42px" })
                            <div class="validation"></div>
                        </div>

                        <div class="form-group">
                            <p style="font-weight:bold">@Common.Profession</p>
                            <span class="icon-case"><i class="glyphicon glyphicon-circle-arrow-right"></i></span>
                            @*@Html.DropDownList("YeuCauNghe_ID", new SelectList(string.Empty, "Value", "Text"), new { @style = "width: 75%; height: 41px" })*@
                            @Html.DropDownList("YeuCauNghe_ID", null, new { @class = "form-control", style = "width: 75%; height: 42px" })
                            <div class="validation"></div>
                        </div>
                        <br />
                        <div class="form-group">
                            <label>Thứ tự hiển thị web dự vào Ngày Cập Nhật</label>
                            <label>Khi bạn lưu hồ sơ, Ngày Cập Nhật sẻ là ngày hiện tại</label><br />
                            @if (Model.NgayHetHan < DateTime.Now)
                            {
                                <label style="color:red">Hồ sơ này đã hết hạn</label>
                            }
                        </div>
                    </div>
                    </div>
                </div>
                <style>
                    .btn-glyphicon {
                        padding: 6px;
                        background: #ffffff;
                        margin-right: 4px;
                    }

                    .icon-btn {
                        padding: 1px 15px 3px 2px;
                        border-radius: 10px;
                    }
                </style>
                <div class="row text-center">
                    <div class="col-xs-7 col-md-6">
                        <button type="submit" id="btnLuu" class="btn icon-btn btn-success"><span class="glyphicon btn-glyphicon glyphicon-plus img-circle text-success"></span>@Common.SaveJob</button>
                        @*<a class="btn icon-btn btn-success" href="/Candidate/CandidateCreate"><span class="glyphicon btn-glyphicon glyphicon-plus img-circle text-success"></span>Lưu &amp; Gửi Phê Duyệt </a>*@
                        <script>
                            $(function () {
                                $("#btnLuu").click(function () {
                                    this.form.action = "/Account/UpdateDocFile";
                                });
                            });
                        </script>

                    </div>
                    <div class="col-xs-5 col-md-6">
                        <a class="btn icon-btn btn-warning" href="/Quan-Ly-Tai-Khoan-DN"><span class="glyphicon btn-glyphicon glyphicon-chevron-left img-circle text-warning"></span>@Common.Back</a>
                    </div>
                </div>
            }
        </form>
    </div>

</section>
<script>
    $(function () {
        $('#NoiLamViec_TinhID').change(function () {
            $('#NoiLamViec_HuyenID').empty();
            var MaTinh = $('#NoiLamViec_TinhID').val();
            $.ajax({
                url: "/Account/TamTru_Huyen_ID", // we are calling json method
                data: { TamTru_Tinh_ID: MaTinh },
                success: function (response) {
                    $(response).each(function (i, e) {
                        $("#NoiLamViec_HuyenID").append(
                            $('<option/>')
                                .attr('value', e.Id)
                                .text(e.TenDiaChi)
                        );
                        // here we are adding option for Phuongxa
                    });
                },
                error: function (ex) {
                    alert('Lỗi load Quận/ huyện: ' + ex);

                }
            });
        });
    });
    // XỬ LÝ LOAD NGHỀ THEO NGÀNH - KHI THAY ĐỔI NGÀNH
    $(function () {
        $('#YeuCauNganh_ID').change(function () {
            $('#YeuCauNghe_ID').empty();
            var MaNganhNghe = $('#YeuCauNganh_ID').val();
            $.ajax({
                url: "/Job/YeuCauNghe_ID_kh", // we are calling json method
                data: { MaNghanh: MaNganhNghe },
                success: function (response) {
                    $(response).each(function (i, e) {
                        $("#YeuCauNghe_ID").append(
                            $('<option/>')
                                .attr('value', e.NgheLaoDong_ID)
                                .text(e.TenNgheLaoDong)
                        );
                        // here we are adding option for Phuongxa
                    });
                },
                error: function (ex) {
                    alert('Lỗi load ngành nghề: ' + ex);
                }
            });
        });
    });
    $(function () {
        //mặc định rỗng
        var date = new Date();
        //var newDate1 = new Date(date.setMonth(date.getMonth() + 1));
        var daa = new Date(date).toLocaleDateString("en-GB");
        $("#NgayHetHan1").val(daa);
        $('#HetHan').css('display', 'none');
    });
    $(function () {
        $("#thoigiantontai").change(function () {
            var num = $("#thoigiantontai").val();
            if (num != "0") {
                $('#HetHan').css('display', 'block');
                var date = new Date();
                var newDate1 = new Date(date.setMonth(date.getMonth() + parseInt(num)));
                var daa = new Date(newDate1).toLocaleDateString("en-GB");
                $("#NgayHetHan1").val(daa);
            } else {
                var date = new Date();
                var daa = new Date(date).toLocaleDateString("en-GB");
                $("#NgayHetHan1").val(daa);
                $('#HetHan').css('display', 'none');
            }
        });

    });
</script>

